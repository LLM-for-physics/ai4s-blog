# Nginx 配置示例：成绩数据缓存控制
# 将此配置添加到您的 Nginx 服务器配置中

# 为成绩数据目录禁用缓存，确保用户总是获取最新数据
location /score/ {
    # 禁用所有缓存
    add_header Cache-Control "no-cache, no-store, must-revalidate" always;
    add_header Pragma "no-cache" always;
    add_header Expires "0" always;
    
    # 允许跨域请求（如果需要）
    # add_header Access-Control-Allow-Origin "*" always;
    # add_header Access-Control-Allow-Methods "GET, OPTIONS" always;
    
    # 确保正确的 MIME 类型
    types {
        text/csv csv;
        text/plain txt;
    }
}

# 可选：为其他静态资源设置合理的缓存时间
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 7d;
    add_header Cache-Control "public, immutable";
}
